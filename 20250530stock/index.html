<!DOCTYPE html>
<html>

<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>JSFiddle 58ef0qko</title>

  <style>
    :root {
  --color-1: #ffffff;
  --color-2: #faeae0;
  --color-3: #ffbf4b;
  --color-4: #584056;
}

body {
  background: linear-gradient(90deg, var(--color-1) 0%, var(--color-1) 25%, var(--color-2) 25%, var(--color-2) 50%, var(--color-3) 50%, var(--color-3) 75%, var(--color-4) 75%, var(--color-4) 100%);
}:root {
  --color-1: rgb(55 50 52);
  --color-2: rgb(232 220 204);
  --color-3: rgb(243 236 228);
  --color-4: rgb(216 67 57);
}

body {
  background: linear-gradient(90deg, var(--color-1) 0%, var(--color-1) 25%, var(--color-2) 25%, var(--color-2) 50%, var(--color-3) 50%, var(--color-3) 75%, var(--color-4) 75%, var(--color-4) 100%);
}/* í•œêµ­ ì£¼ì‹ ì‹œì¥ ëŒ€ì‹œë³´ë“œ ìŠ¤íƒ€ì¼ */

/* ê¸°ë³¸ ì„¤ì • */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Noto Sans KR', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    background-color: #f7fafc;
    color: #2d3748;
    line-height: 1.6;
    animation: fadeIn 0.5s ease-in;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

/* ì»¨í…Œì´ë„ˆ */
.container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 20px;
}

/* ë©”ì¸ í—¤ë” */
.main-header {
    background: linear-gradient(135deg, #1a365d 0%, #2c5282 100%);
    color: white;
    padding: 24px 0;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.header-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 16px;
}

.header-title h1 {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 8px;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.header-subtitle {
    font-size: 1.2rem;
    opacity: 0.9;
    font-weight: 400;
}

.header-info {
    display: flex;
    align-items: center;
    gap: 20px;
}

.update-time {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
}

.time-label {
    font-size: 0.875rem;
    opacity: 0.8;
}

.time-value {
    font-size: 1rem;
    font-weight: 600;
}

.btn {
    display: inline-flex;
    align-items: center;
    padding: 10px 16px;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 0.875rem;
    gap: 8px;
    border: none;
}

.btn--secondary {
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: white;
}

.btn--secondary:hover {
    background: rgba(255, 255, 255, 0.2);
    transform: translateY(-1px);
}

/* ìš”ì•½ ì¹´ë“œ ì„¹ì…˜ */
.summary-section {
    padding: 32px 0;
    background: white;
    border-bottom: 1px solid #e2e8f0;
}

.summary-cards {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 24px;
    max-width: 1200px;
    margin: 0 auto;
}

.summary-card {
    background: white;
    border-radius: 16px;
    padding: 24px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05), 0 1px 3px rgba(0, 0, 0, 0.1);
    border: 1px solid #e2e8f0;
    display: flex;
    align-items: center;
    gap: 20px;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.summary-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: var(--accent-color);
    transition: height 0.3s ease;
}

.summary-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
}

.summary-card:hover::before {
    height: 8px;
}

.card-kospi {
    --accent-color: #3182ce;
}

.card-kosdaq {
    --accent-color: #38a169;
}

.card-theme {
    --accent-color: #ed8936;
}

.card-movers {
    --accent-color: #e53e3e;
}

.card-icon {
    font-size: 2.5rem;
    opacity: 0.8;
    min-width: 60px;
    text-align: center;
}

.card-number {
    font-size: 2.5rem;
    font-weight: 700;
    color: var(--accent-color);
    line-height: 1;
}

.card-label {
    font-size: 1.1rem;
    color: #4a5568;
    font-weight: 500;
    margin-top: 4px;
}

/* ëŒ€ì‹œë³´ë“œ */
.dashboard {
    padding: 40px 0;
}

.dashboard-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
    gap: 32px;
}

.dashboard-section {
    animation: slideUp 0.6s ease-out;
}

@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.section-header {
    margin-bottom: 16px;
}

.section-header h2 {
    font-size: 1.5rem;
    font-weight: 600;
    color: #1a365d;
    margin-bottom: 4px;
}

.section-subtitle {
    font-size: 0.875rem;
    color: #718096;
}

/* ì¹´ë“œ */
.card {
    background: white;
    border-radius: 12px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
    border: 1px solid #e2e8f0;
    transition: box-shadow 0.3s ease;
}

.card:hover {
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
}

.card__body {
    padding: 0;
}

/* í…Œì´ë¸” */
.table-container {
    overflow-x: auto;
}

.kosdaq-table-container {
    max-height: 400px;
    overflow-y: auto;
}

.stocks-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.9rem;
}

.stocks-table th {
    background: #f8fafc;
    padding: 16px 12px;
    text-align: left;
    font-weight: 600;
    color: #4a5568;
    border-bottom: 2px solid #e2e8f0;
    white-space: nowrap;
    position: sticky;
    top: 0;
    z-index: 10;
}

.stocks-table th.sortable {
    cursor: pointer;
    transition: background-color 0.2s ease;
}

.stocks-table th.sortable:hover {
    background: #edf2f7;
}

.stocks-table th.sortable::after {
    content: ' â†•';
    opacity: 0.5;
    font-size: 0.8rem;
}

.stocks-table td {
    padding: 14px 12px;
    border-bottom: 1px solid #e2e8f0;
    vertical-align: middle;
}

.stocks-table tbody tr {
    transition: background-color 0.2s ease;
    cursor: pointer;
}

.stocks-table tbody tr:hover {
    background-color: #f7fafc;
}

.stock-name {
    font-weight: 600;
    color: #2d3748;
}

.stock-code {
    font-size: 0.85rem;
    color: #718096;
    font-family: 'Courier New', monospace;
}

.stock-price {
    font-weight: 600;
    font-family: 'Courier New', monospace;
}

.stock-change {
    font-weight: 600;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 0.85rem;
}

/* í•œêµ­ì‹ ìƒ‰ìƒ ì ìš©: ìƒìŠ¹=ë¹¨ê°„ìƒ‰, í•˜ë½=íŒŒë€ìƒ‰ */
.change-positive {
    color: #e53e3e;
    background: rgba(229, 62, 62, 0.1);
}

.change-negative {
    color: #3182ce;
    background: rgba(49, 130, 206, 0.1);
}

.stock-reason {
    font-size: 0.85rem;
    color: #4a5568;
    max-width: 200px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

/* í…Œë§ˆ ì¹´ë“œ */
.themes-container {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 16px;
}

.theme-card {
    background: white;
    border-radius: 12px;
    padding: 20px;
    border: 1px solid #e2e8f0;
    transition: all 0.3s ease;
    cursor: pointer;
    position: relative;
}

.theme-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
}

/* í•œêµ­ì‹ ìƒ‰ìƒ ì ìš©: ìƒìŠ¹=ë¹¨ê°„ìƒ‰, í•˜ë½=íŒŒë€ìƒ‰ */
.theme-card.theme-up {
    border-left: 4px solid #e53e3e;
}

.theme-card.theme-down {
    border-left: 4px solid #3182ce;
}

.theme-name {
    font-size: 1.1rem;
    font-weight: 600;
    margin-bottom: 8px;
    color: #2d3748;
}

.theme-direction {
    display: inline-block;
    padding: 4px 8px;
    border-radius: 12px;
    font-size: 0.75rem;
    font-weight: 600;
    margin-bottom: 12px;
}

/* í•œêµ­ì‹ ìƒ‰ìƒ ì ìš©: ìƒìŠ¹=ë¹¨ê°„ìƒ‰, í•˜ë½=íŒŒë€ìƒ‰ */
.theme-direction.up {
    background: rgba(229, 62, 62, 0.1);
    color: #e53e3e;
}

.theme-direction.down {
    background: rgba(49, 130, 206, 0.1);
    color: #3182ce;
}

.theme-reason {
    font-size: 0.9rem;
    color: #4a5568;
    line-height: 1.5;
}

/* ëª¨ë‹¬ */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
}

.modal-overlay.active {
    opacity: 1;
    visibility: visible;
}

.modal {
    background: white;
    border-radius: 16px;
    max-width: 500px;
    width: 90%;
    max-height: 80vh;
    overflow-y: auto;
    box-shadow: 0 20px 25px rgba(0, 0, 0, 0.1);
    transform: scale(0.9);
    transition: transform 0.3s ease;
}

.modal-overlay.active .modal {
    transform: scale(1);
}

.modal-header {
    padding: 24px;
    border-bottom: 1px solid #e2e8f0;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.modal-header h3 {
    font-size: 1.3rem;
    font-weight: 600;
    color: #1a365d;
}

.modal-close {
    background: none;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
    color: #718096;
    padding: 4px;
    border-radius: 4px;
    transition: all 0.2s ease;
}

.modal-close:hover {
    background: #f7fafc;
    color: #4a5568;
}

.modal-body {
    padding: 24px;
}

.modal-stock-info {
    margin-bottom: 24px;
    padding: 20px;
    background: #f8fafc;
    border-radius: 8px;
}

.modal-stock-info .stock-name {
    font-size: 1.3rem;
    font-weight: 600;
    margin-bottom: 8px;
}

.modal-stock-info .stock-code {
    font-size: 1rem;
    margin-bottom: 12px;
}

.modal-stock-info .stock-price {
    font-size: 1.2rem;
    margin-bottom: 8px;
}

.modal-stock-info .stock-change {
    font-size: 1.1rem;
    padding: 6px 12px;
}

.modal-reason h4 {
    font-size: 1.1rem;
    font-weight: 600;
    margin-bottom: 12px;
    color: #2d3748;
}

.modal-reason p {
    font-size: 1rem;
    line-height: 1.6;
    color: #4a5568;
}

/* íˆ´íŒ */
.tooltip {
    position: absolute;
    background: #2d3748;
    color: white;
    padding: 12px 16px;
    border-radius: 8px;
    font-size: 0.9rem;
    line-height: 1.4;
    max-width: 300px;
    z-index: 1001;
    opacity: 0;
    visibility: hidden;
    transition: all 0.2s ease;
    pointer-events: none;
}

.tooltip.active {
    opacity: 1;
    visibility: visible;
}

.tooltip::before {
    content: '';
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    border: 6px solid transparent;
    border-top-color: #2d3748;
}

/* í‘¸í„° */
.footer {
    background: #2d3748;
    color: white;
    padding: 24px 0;
    margin-top: 60px;
}

.footer-content {
    text-align: center;
}

.disclaimer {
    font-size: 0.875rem;
    line-height: 1.6;
    opacity: 0.9;
}

/* ë°˜ì‘í˜• ë””ìì¸ */
@media (max-width: 768px) {
    .header-content {
        flex-direction: column;
        text-align: center;
    }
    
    .header-title h1 {
        font-size: 2rem;
    }
    
    .summary-cards {
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 16px;
    }
    
    .dashboard-grid {
        grid-template-columns: 1fr;
        gap: 24px;
    }
    
    .stocks-table {
        font-size: 0.8rem;
    }
    
    .stocks-table th,
    .stocks-table td {
        padding: 10px 8px;
    }
    
    .themes-container {
        grid-template-columns: 1fr;
    }
    
    .modal {
        width: 95%;
    }
}

@media (max-width: 480px) {
    .container {
        padding: 0 16px;
    }
    
    .header-title h1 {
        font-size: 1.8rem;
    }
    
    .summary-cards {
        grid-template-columns: 1fr;
    }
    
    .summary-card {
        padding: 20px;
    }
    
    .card-number {
        font-size: 2rem;
    }
    
    .stocks-table th,
    .stocks-table td {
        padding: 8px 6px;
    }
    
    .stock-reason {
        max-width: 150px;
    }
}

  </style>

  
</head>
<body>
  <!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ“ˆ ì£¼ì‹ ì‹œì¥ ëŒ€ì‹œë³´ë“œ</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- ë©”ì¸ í—¤ë” -->
    <header class="main-header">
        <div class="container">
            <div class="header-content">
                <div class="header-title">
                    <h1>ğŸ“ˆ ì£¼ì‹ ì‹œì¥ ëŒ€ì‹œë³´ë“œ</h1>
                    <p class="header-subtitle">íŠ¹ì§•ì¢…ëª© ë° í…Œë§ˆ ë¶„ì„</p>
                </div>
                <div class="header-info">
                    <div class="update-time">
                        <span class="time-label">ì—…ë°ì´íŠ¸ ì‹œê°„</span>
                        <span class="time-value">2025ë…„ 6ì›” 18ì¼ ì˜¤í›„ 7:02 ê¸°ì¤€</span>
                    </div>
                    <button class="btn btn--secondary refresh-btn" id="refreshBtn">
                        <span>ğŸ”„</span> ìƒˆë¡œê³ ì¹¨
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- ìš”ì•½ ì¹´ë“œ ì„¹ì…˜ -->
    <section class="summary-section">
        <div class="container">
            <div class="summary-cards">
                <div class="summary-card card-kospi">
                    <div class="card-icon">ğŸ“Š</div>
                    <div class="card-content">
                        <div class="card-number">8</div>
                        <div class="card-label">ì½”ìŠ¤í”¼ íŠ¹ì§•ì¢…ëª©</div>
                    </div>
                </div>
                <div class="summary-card card-kosdaq">
                    <div class="card-icon">ğŸ“ˆ</div>
                    <div class="card-content">
                        <div class="card-number">23</div>
                        <div class="card-label">ì½”ìŠ¤ë‹¥ íŠ¹ì§•ì¢…ëª©</div>
                    </div>
                </div>
                <div class="summary-card card-theme">
                    <div class="card-icon">ğŸ¯</div>
                    <div class="card-content">
                        <div class="card-number">10</div>
                        <div class="card-label">ì£¼ìš” í…Œë§ˆ</div>
                    </div>
                </div>
                <div class="summary-card card-movers">
                    <div class="card-icon">ğŸš€</div>
                    <div class="card-content">
                        <div class="card-number">10</div>
                        <div class="card-label">ê¸‰ë“±ì¢…ëª©</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ë©”ì¸ ëŒ€ì‹œë³´ë“œ -->
    <main class="dashboard">
        <div class="container">
            <div class="dashboard-grid">
                <!-- ê¸‰ë“±ì¢…ëª© TOP 10 -->
                <section class="dashboard-section">
                    <div class="section-header">
                        <h2>ğŸš€ ê¸‰ë“±ì¢…ëª© TOP 10</h2>
                        <span class="section-subtitle">ìƒí•œê°€ í¬í•¨ ë“±ë½ë¥  ìˆœ</span>
                    </div>
                    <div class="card">
                        <div class="card__body">
                            <div class="table-container">
                                <table class="stocks-table" id="topMoversTable">
                                    <thead>
                                        <tr>
                                            <th class="sortable" data-sort="name">ì¢…ëª©ëª…</th>
                                            <th class="sortable" data-sort="code">ì¢…ëª©ì½”ë“œ</th>
                                            <th class="sortable" data-sort="price">í˜„ì¬ê°€</th>
                                            <th class="sortable" data-sort="change">ë“±ë½ë¥ </th>
                                        </tr>
                                    </thead>
                                    <tbody id="topMoversBody">
                                        <!-- ë™ì ìœ¼ë¡œ ìƒì„± -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- ì‹œì¥ í…Œë§ˆ í˜„í™© -->
                <section class="dashboard-section">
                    <div class="section-header">
                        <h2>ğŸ¯ ì‹œì¥ í…Œë§ˆ í˜„í™©</h2>
                        <span class="section-subtitle">ìƒìŠ¹/í•˜ë½ í…Œë§ˆ ë¶„ì„</span>
                    </div>
                    <div class="themes-container" id="themesContainer">
                        <!-- ë™ì ìœ¼ë¡œ ìƒì„± -->
                    </div>
                </section>

                <!-- ì½”ìŠ¤í”¼ íŠ¹ì§•ì¢…ëª© -->
                <section class="dashboard-section">
                    <div class="section-header">
                        <h2>ğŸ“Š ì½”ìŠ¤í”¼ íŠ¹ì§•ì¢…ëª©</h2>
                        <span class="section-subtitle">8ê°œ ì¢…ëª©</span>
                    </div>
                    <div class="card">
                        <div class="card__body">
                            <div class="table-container">
                                <table class="stocks-table" id="kospiTable">
                                    <thead>
                                        <tr>
                                            <th class="sortable" data-sort="name">ì¢…ëª©ëª…</th>
                                            <th class="sortable" data-sort="code">ì½”ë“œ</th>
                                            <th class="sortable" data-sort="price">í˜„ì¬ê°€</th>
                                            <th class="sortable" data-sort="change">ë“±ë½ë¥ </th>
                                            <th>ì´ìŠˆ ìš”ì•½</th>
                                        </tr>
                                    </thead>
                                    <tbody id="kospiBody">
                                        <!-- ë™ì ìœ¼ë¡œ ìƒì„± -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- ì½”ìŠ¤ë‹¥ íŠ¹ì§•ì¢…ëª© -->
                <section class="dashboard-section">
                    <div class="section-header">
                        <h2>ğŸ“ˆ ì½”ìŠ¤ë‹¥ íŠ¹ì§•ì¢…ëª©</h2>
                        <span class="section-subtitle">23ê°œ ì¢…ëª©</span>
                    </div>
                    <div class="card">
                        <div class="card__body">
                            <div class="table-container kosdaq-table-container">
                                <table class="stocks-table" id="kosdaqTable">
                                    <thead>
                                        <tr>
                                            <th class="sortable" data-sort="name">ì¢…ëª©ëª…</th>
                                            <th class="sortable" data-sort="code">ì½”ë“œ</th>
                                            <th class="sortable" data-sort="price">í˜„ì¬ê°€</th>
                                            <th class="sortable" data-sort="change">ë“±ë½ë¥ </th>
                                            <th>ì´ìŠˆ ìš”ì•½</th>
                                        </tr>
                                    </thead>
                                    <tbody id="kosdaqBody">
                                        <!-- ë™ì ìœ¼ë¡œ ìƒì„± -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </main>

    <!-- ëª¨ë‹¬ -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal">
            <div class="modal-header">
                <h3 id="modalTitle">ì¢…ëª© ìƒì„¸ ì •ë³´</h3>
                <button class="modal-close" id="modalClose">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="modal-stock-info">
                    <div class="stock-name" id="modalStockName"></div>
                    <div class="stock-code" id="modalStockCode"></div>
                    <div class="stock-price" id="modalStockPrice"></div>
                    <div class="stock-change" id="modalStockChange"></div>
                </div>
                <div class="modal-reason">
                    <h4>ìƒì„¸ ì‚¬ìœ </h4>
                    <p id="modalReason"></p>
                </div>
            </div>
        </div>
    </div>

    <!-- íˆ´íŒ -->
    <div class="tooltip" id="tooltip">
        <div class="tooltip-content" id="tooltipContent"></div>
    </div>

    <!-- í‘¸í„° -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <p class="disclaimer">
                    <strong>ë°ì´í„° ì¶œì²˜:</strong> í•œêµ­ê±°ë˜ì†Œ, ê¸ˆìœµê°ë…ì› | 
                    <strong>ë©´ì±…ì¡°í•­:</strong> ë³¸ ì •ë³´ëŠ” íˆ¬ì ì°¸ê³ ìš©ì´ë©°, íˆ¬ì ê²°ì •ì— ëŒ€í•œ ì±…ì„ì€ íˆ¬ìì ë³¸ì¸ì—ê²Œ ìˆìŠµë‹ˆë‹¤.
                </p>
            </div>
        </div>
    </footer>

    <script src="app.js"></script>
</body>
</html>


  <script>
    // í•œêµ­ ì£¼ì‹ ì‹œì¥ ëŒ€ì‹œë³´ë“œ JavaScript

// ë°ì´í„°
const stockData = {
    kospi_stocks: [
        {"name": "ì½œë§ˆí™€ë”©ìŠ¤", "code": "024720", "price": "15,950ì›", "change": "29.99%", "reason": "ê²½ì˜ê¶Œ ë¶„ìŸ ì†Œì‹ì— ìƒí•œê°€"},
        {"name": "NAVER", "code": "035420", "price": "243,500ì›", "change": "17.92%", "reason": "JPëª¨ê±´ ëª©í‘œê°€ ìƒí–¥ ë° AIìˆ˜ì„ ë°°ì¶œ ëª¨ë©˜í…€ ì§€ì† ë“±ì— ê¸‰ë“±"},
        {"name": "ì‚°ì¼ì „ê¸°", "code": "062040", "price": "79,100ì›", "change": "8.06%", "reason": "2ë¶„ê¸° ì‹¤ì  ì»¨ì„¼ì„œìŠ¤ ìƒíšŒ ì „ë§ ë° 3ë¶„ê¸° ì¦ì„¤ íš¨ê³¼ ë³¸ê²©í™” ê¸°ëŒ€ê° ë“±ì— ê°•ì„¸"},
        {"name": "NHíˆ¬ìì¦ê¶Œ", "code": "005940", "price": "19,450ì›", "change": "4.40%", "reason": "ç¾ ì¦ê¶Œì‚¬ ì—ë²„ì½”ì–´ì™€ IPO ì—…ë¬´ í˜‘ì•½ ì²´ê²°ì— ìƒìŠ¹"},
        {"name": "ë™ì•„ì˜ì‹œì˜¤í™€ë”©ìŠ¤", "code": "000640", "price": "123,000ì›", "change": "4.33%", "reason": "ì—ìŠ¤í‹°ì  ë°”ì´ì˜¤ ì„±ì¥ ì ì¬ë ¥ ì£¼ëª© ë¶„ì„ ë“±ì— ìƒìŠ¹"},
        {"name": "ì‚¼ì„±ì „ì", "code": "005930", "price": "59,800ì›", "change": "2.93%", "reason": "3ë¶„ê¸°ë¶€í„° ê¸°ìˆ Â·íŒë§¤ ì •ìƒí™” ì „ë§ ì† ì €í‰ê°€ ë¶„ì„ ë“±ì— ì†Œí­ ìƒìŠ¹"},
        {"name": "í˜„ëŒ€ë°±í™”ì ", "code": "069960", "price": "72,000ì›", "change": "2.56%", "reason": "ì‹¤ì ê°œì„  ì „ë§ ë“±ì— ì†Œí­ ìƒìŠ¹"},
        {"name": "í•œêµ­ì „ë ¥", "code": "015760", "price": "28,900ì›", "change": "2.30%", "reason": "ë¼íŠ¸ë¹„ì•„ì „ë ¥ì‚¬ì™€ ì°¨ì„¸ëŒ€ ë°°ì „ë§ í˜‘ë ¥ ì†Œì‹ ì† ì†Œí­ ìƒìŠ¹"}
    ],
    kosdaq_stocks: [
        {"name": "ì—”ì—í”„ì”¨", "code": "265740", "price": "9,470ì›", "change": "29.90%", "reason": "í´ë Œì§•ë°¤ ëŒ€í‘œê¸°ì—… ë¶„ì„ ë“±ì— ìƒí•œê°€"},
        {"name": "ì—ìŠ¤í…", "code": "069510", "price": "18,300ì›", "change": "16.19%", "reason": "ì „ê¸°ì°¨ ê¸°ë°˜ ììœ¨ì£¼í–‰ì°¨ ì‹œì¥ í™•ëŒ€ ìˆ˜í˜œì£¼ ë¶„ì„ ë“±ì— ê¸‰ë“±"},
        {"name": "ë¹„íŠ¸ë§¥ìŠ¤", "code": "377030", "price": "6,200ì›", "change": "15.89%", "reason": "900ì–µì› ê·œëª¨ ë¹„íŠ¸ì½”ì¸ ì¶”ê°€ ë§¤ìˆ˜ ê³„íš ì† ë§ˆì´í¬ë¡œìŠ¤íŠ¸ë˜í‹°ì§€ì‚¬ì—… ì „ëµ ë²¤ì¹˜ë§ˆí‚¹ ì†Œì‹ ë“±ì— ê¸‰ë“±"},
        {"name": "ì„¸ì•„ë©”ì¹´ë‹‰ìŠ¤", "code": "396300", "price": "2,880ì›", "change": "15.20%", "reason": "ì‹¤ì  ê¸‰ì„±ì¥ ì „ë§ ë“±ì— ê¸‰ë“±"},
        {"name": "í† ë§ˆí† ì‹œìŠ¤í…œ", "code": "393210", "price": "7,590ì›", "change": "11.29%", "reason": "2025ë…„ ê¸°ëŠ¥ì„±ê²Œì„ ì œì‘ì§€ì›ì‚¬ì—… ìµœì¢… ì„ ì • ì†Œì‹ì— ê¸‰ë“±"},
        {"name": "ë¹„ì˜¬", "code": "335890", "price": "12,380ì›", "change": "10.54%", "reason": "VIGíŒŒíŠ¸ë„ˆìŠ¤, ë™ì‚¬ ìì§„ìƒíë¥¼ ìœ„í•œ ê³µê°œë§¤ìˆ˜ ì¶”ì§„ ì†Œì‹ì— ê¸‰ë“±"},
        {"name": "ì´ë…¸ë£°ìŠ¤", "code": "296640", "price": "7,760ì›", "change": "8.23%", "reason": "NHì†í•´ë³´í—˜ 'ë³´í—˜ê¸ˆ ìë™ì‹¬ì‚¬ ì‹œìŠ¤í…œ' êµ¬ì¶• ì†Œì‹ì— ê°•ì„¸"},
        {"name": "ê·¸ë¦¬ë“œìœ„ì¦ˆ", "code": "453450", "price": "21,600ì›", "change": "7.20%", "reason": "DER Gateway ê³µì‹ ì¶œì‹œ ë° ë¶ë¯¸ ìŠ¤ë§ˆíŠ¸ê·¸ë¦¬ë“œ í‘œì¤€ ì¸ì¦ íšë“ ì†Œì‹ì— ê°•ì„¸"},
        {"name": "ì—ìŠ¤ì”¨ì— ìƒëª…ê³¼í•™", "code": "298060", "price": "929ì›", "change": "5.81%", "reason": "í’ì „ì•½í’ˆ ì§€ë¶„ 100% ì–‘ìˆ˜ ê²°ì •ì— ìƒìŠ¹"},
        {"name": "ëª¨ë‹ˆí„°ë©", "code": "434480", "price": "4,730ì›", "change": "5.11%", "reason": "ê³µê³µ ìˆ˜ì£¼ì™€ ê¸€ë¡œë²Œ í™•ì¥ ë³¸ê²©í™” ê¸°ëŒ€ê° ë“±ì— ìƒìŠ¹"},
        {"name": "í¨íŠ¸ë¡ ", "code": "168360", "price": "13,420ì›", "change": "5.09%", "reason": "ì˜¬í•´ ì˜ì—…ì´ìµ í‘ìì „í™˜ ì „ë§ ë° HBM ê²€ì‚¬ì¥ë¹„ í€„ í…ŒìŠ¤íŠ¸ í†µê³¼ ê¸°ëŒ€ê° ë“±ì— ìƒìŠ¹"},
        {"name": "í˜„ëŒ€ë¬´ë²¡ìŠ¤", "code": "319400", "price": "4,380ì›", "change": "5.04%", "reason": "ë¬¼ë¥˜ìë™í™” ë¶€ë¬¸ ì‹ ê·œìˆ˜ì£¼ ê¸‰ì¦ ë“±ì— ìƒìŠ¹"},
        {"name": "ì´ë…¸ì™€ì´ì–´ë¦¬ìŠ¤", "code": "073490", "price": "21,700ì›", "change": "4.83%", "reason": "ì‹œí—˜ì¥ë¹„/ìŠ¤ëª°ì…€ ë§¤ì¶œì²˜ í™•ëŒ€ì— ë”°ë¥¸ ì´ìµ ê°œì„  ì „ë§ ë“±ì— ìƒìŠ¹"},
        {"name": "íŒŒí¬ì‹œìŠ¤í…œìŠ¤", "code": "140860", "price": "281,500ì›", "change": "4.45%", "reason": "2ë¶„ê¸° í˜¸ì‹¤ì  ì „ë§ ë° ì‹ ê·œ ì¥ë¹„ ì„±ì¥ ê¸°ëŒ€ê° ë“±ì— ìƒìŠ¹"},
        {"name": "ì— ì  ì†”ë£¨ì…˜", "code": "032790", "price": "1,204ì›", "change": "4.33%", "reason": "ìƒˆ ì •ë¶€ì˜ ì¤‘ëŒ€ì¬í•´ì²˜ë²Œë²• ê°•í™” ì¶”ì§„ì— ë”°ë¥¸ ìˆ˜í˜œì£¼ ë¶„ì„ì— ìƒìŠ¹"},
        {"name": "í”Œë˜í‹°ì–´", "code": "367000", "price": "4,600ì›", "change": "3.60%", "reason": "ì œì£¼í•­ê³µì— AI ë§ˆì¼€íŒ… ì†”ë£¨ì…˜ 'ê·¸ë£¨ë¹„' ê³µê¸‰ ì†Œì‹ ì† ìƒìŠ¹"},
        {"name": "KCCê±´ì„¤", "code": "021320", "price": "5,300ì›", "change": "3.52%", "reason": "ì•½ 1,988ì–µì› ê·œëª¨ ì¶©ë¶ì„  ë…¸ë°˜ ê±´ì„¤ê³µì‚¬ ì‹¤ì‹œì„¤ê³„ì ê²©ì ì„ ì • ì† ìƒìŠ¹"},
        {"name": "ìœ ë¹„ì˜¨", "code": "084440", "price": "1,240ì›", "change": "3.25%", "reason": "ê¸€ë¡œë²Œ ì—ë“€í…Œí¬ ì‚¬ì—… í™•ì¥ ë¶„ì„ ë“±ì— ìƒìŠ¹"},
        {"name": "ë¡œí‚·í—¬ìŠ¤ì¼€ì–´", "code": "376900", "price": "14,210ì›", "change": "3.20%", "reason": "'ì—°ê³¨ì¬ìƒ ê´€ë ¨ í•µì‹¬ê¸°ìˆ ' ç¾ íŠ¹í—ˆ ë“±ë¡ ì™„ë£Œ ì†Œì‹ì— ìƒìŠ¹"},
        {"name": "KHë°”í…", "code": "060720", "price": "10,480ì›", "change": "2.75%", "reason": "ì „ì¥ ë¶€í’ˆ ì„±ì¥ì— ë”°ë¥¸ ì‹¤ì  ê°œì„  ì „ë§ ë“±ì— ì†Œí­ ìƒìŠ¹"},
        {"name": "ì—ìŠ¤ì—í”„ì—ì´", "code": "056190", "price": "21,300ì›", "change": "2.40%", "reason": "2ë¶„ê¸° í˜¸ì‹¤ì  ì „ë§ ë° ì €í‰ê°€ ë¶„ì„ ë“±ì— ì†Œí­ ìƒìŠ¹"},
        {"name": "ì´ì—”ì…€", "code": "456070", "price": "13,100ì›", "change": "2.18%", "reason": "ì…€ì¸ì…€ì¦ˆì™€ ì„ìƒì‹œí—˜ìš© ì˜ì•½í’ˆ CDMO ê³„ì•½ ì²´ê²°ì— ì†Œí­ ìƒìŠ¹"},
        {"name": "ëª¨ì•„ë¼ì´í”„í”ŒëŸ¬ìŠ¤", "code": "142760", "price": "2,145ì›", "change": "-2.05%", "reason": "ìê¸° ì „í™˜ì‚¬ì±„ ë§¤ë„ ê²°ì • ì† ì†Œí­ í•˜ë½"}
    ],
    main_themes: [
        {"name": "AI ê´€ë ¨", "direction": "ìƒìŠ¹", "reason": "ì´ì¬ëª… ëŒ€í†µë ¹ AI ì •ì±… ê¸°ëŒ€ê° ì§€ì†"},
        {"name": "ê²Œì„", "direction": "ìƒìŠ¹", "reason": "í•œí•œë ¹ í•´ì œ ê¸°ëŒ€ê° ë° í•˜ë°˜ê¸° ì‹ ì‘ ëª¨ë©˜í…€"},
        {"name": "ì§€ì—­í™”í", "direction": "ìƒìŠ¹", "reason": "ì •ë¶€ ì¶”ê²½ ë°˜ì˜ ì†Œì‹"},
        {"name": "ì¹´ì§€ë…¸", "direction": "ìƒìŠ¹", "reason": "ì¤‘êµ­ì¸ ë‹¨ì²´ê´€ê´‘ê° ê¸°ëŒ€ê°"},
        {"name": "í•´ìš´/ë¬¼ë¥˜", "direction": "ìƒìŠ¹", "reason": "ì´ìŠ¤ë¼ì—˜-ì´ë€ ê¸´ì¥ ê³ ì¡° ì† í˜¸ë¥´ë¬´ì¦ˆ í•´í˜‘ ë´‰ì‡„ ê°€ëŠ¥ì„±"},
        {"name": "ì—ë„ˆì§€", "direction": "ìƒìŠ¹", "reason": "ì´ìŠ¤ë¼ì—˜Â·ì´ë€ ë¶„ìŸ ç¾ ê°œì… ê°€ëŠ¥ì„± ì† êµ­ì œìœ ê°€ ê¸‰ë“±"},
        {"name": "ìŠ¤í…Œì´ë¸”ì½”ì¸", "direction": "ìƒìŠ¹", "reason": "ç¾ ìƒì›, ìŠ¤í…Œì´ë¸”ì½”ì¸ ë²•ì•ˆ í†µê³¼"},
        {"name": "í™”ì¥í’ˆ/íŒ¨ì…˜", "direction": "ìƒìŠ¹", "reason": "ì†Œë¹„ì¬ ì‚°ì—… í˜¸í™© ì „ë§"},
        {"name": "ê±´ì„¤", "direction": "í•˜ë½", "reason": "ìƒì¥ ê±´ì„¤ì‚¬ ë¶€ì±„ë¹„ìœ¨ 200% ëŒíŒŒ, ì¬ë¬´ê±´ì „ì„± ìœ„í—˜"},
        {"name": "ì‹ ì¬ìƒì—ë„ˆì§€", "direction": "í•˜ë½", "reason": "ç¾ ìƒì›, 2028ë…„ê¹Œì§€ ì¬ìƒì—ë„ˆì§€ ì„¸ì•¡ê³µì œ ì „ë©´íì§€ ì´ˆì•ˆ ê³µê°œ"}
    ],
    top_movers: [
        {"name": "ë„¤íŒ¨ìŠ¤ì•„í¬", "code": "330860", "price": "14,950ì›", "change": "+30.00%", "reason": "ì •ë¶€ 16ì¡° ê·œëª¨ AI íˆ¬ì ë°œí‘œ ì†Œì‹ ì† ì—‘ì‹œë…¸ìŠ¤ í…ŒìŠ¤íŠ¸ ë¬¼ëŸ‰ ìˆ˜ì£¼ ì´ë ¥ ë³´ìœ  ë¶€ê°ì— ìƒí•œê°€"},
        {"name": "ì½œë§ˆí™€ë”©ìŠ¤", "code": "024720", "price": "15,950ì›", "change": "+29.99%", "reason": "ì¼ë¶€ í™”ì¥í’ˆ í…Œë§ˆ ìƒìŠ¹ ì† ê²½ì˜ê¶Œ ë¶„ìŸ ì†Œì‹ì— ìƒí•œê°€"},
        {"name": "ë„¤ì˜¤í™íŠ¸", "code": "290660", "price": "1,179ì›", "change": "+29.99%", "reason": "ì§€ëŠ¥í˜•ë¡œë´‡/ì¸ê³µì§€ëŠ¥(AI) ë° ì˜ë£Œê¸°ê¸° í…Œë§ˆ ìƒìŠ¹ ì† ìƒí•œê°€"},
        {"name": "ì‹¬í”Œë«í¼", "code": "444530", "price": "17,340ì›", "change": "+29.99%", "reason": "ì§€ëŠ¥í˜•ë¡œë´‡/ì¸ê³µì§€ëŠ¥(AI) í…Œë§ˆ ìƒìŠ¹ ì† DBí•˜ì´í…ì— AI í”Œë«í¼ ê¸°ë°˜ ê³µì • í™•ëŒ€ ì ìš© ëª¨ë©˜í…€ ì§€ì†ì— ìƒí•œê°€"},
        {"name": "ì‹ í’ì œì•½", "code": "019170", "price": "16,650ì›", "change": "+29.98%", "reason": "ì½”ë¡œë‚˜19 ê´€ë ¨ ìœ ëŸ½ íŠ¹í—ˆ íšë“ ëª¨ë©˜í…€ ì§€ì†ì— ìƒí•œê°€"},
        {"name": "í¬ë¼ìš°ë“œì›ìŠ¤", "code": "355390", "price": "12,500ì›", "change": "+29.94%", "reason": "ì´ì¬ëª… ëŒ€í†µë ¹ AI ì •ì±… ê¸°ëŒ€ê° ì§€ì† ë“±ì— ì§€ëŠ¥í˜•ë¡œë´‡/ì¸ê³µì§€ëŠ¥(AI) í…Œë§ˆ ìƒìŠ¹ ì† ìƒí•œê°€"},
        {"name": "ì‚¬ì´ëƒ…ì†Œí”„íŠ¸", "code": "466410", "price": "16,840ì›", "change": "+29.94%", "reason": "ì´ì¬ëª… ëŒ€í†µë ¹ AI ì •ì±… ê¸°ëŒ€ê° ì§€ì† ë“±ì— AI ì±—ë´‡(ì±—GPT ë“±) í…Œë§ˆ ìƒìŠ¹ ì† ìƒí•œê°€"},
        {"name": "ì—”ì—í”„ì”¨", "code": "265740", "price": "9,470ì›", "change": "+29.90%", "reason": "ì¼ë¶€í™”ì¥í’ˆ í…Œë§ˆ ìƒìŠ¹ ì† í´ë Œì§•ë°¤ ëŒ€í‘œê¸°ì—… ë¶„ì„ ë“±ì— ìƒí•œê°€"},
        {"name": "ë¹„íAI", "code": "148780", "price": "2,365ì›", "change": "+29.87%", "reason": "ì§€ëŠ¥í˜•ë¡œë´‡/ì¸ê³µì§€ëŠ¥(AI) í…Œë§ˆ ìƒìŠ¹ ë° ì´ì¬ëª… í–‰ì •ë¶€, ì†Œë²„ë¦° AI ê°œë°œ ì •ì±… ì† RDP-Line ê¸°ëŒ€ê° ì§€ì† ë“±ì— ìƒí•œê°€"},
        {"name": "ì•„í†¤", "code": "158430", "price": "10,430ì›", "change": "+24.91%", "reason": "ç¾ ìƒì›, ìŠ¤í…Œì´ë¸”ì½”ì¸ ë²•ì•ˆ í†µê³¼ ì†Œì‹ì— STO/NFT/ë³´ì•ˆì£¼/í•€í…Œí¬ í…Œë§ˆ ìƒìŠ¹ ì† ê¸‰ë“±"}
    ]
};

// DOM ìš”ì†Œë“¤
let modal, modalOverlay, tooltip;

// í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
document.addEventListener('DOMContentLoaded', function() {
    // DOM ìš”ì†Œ ì„ íƒ
    modal = document.getElementById('modalOverlay');
    modalOverlay = document.getElementById('modalOverlay');
    tooltip = document.getElementById('tooltip');
    
    // ë°ì´í„° ë Œë”ë§
    renderTopMovers();
    renderThemes();
    renderKospiStocks();
    renderKosdaqStocks();
    
    // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
    setupEventListeners();
});

// ê¸‰ë“±ì¢…ëª© TOP 10 ë Œë”ë§
function renderTopMovers() {
    const tbody = document.getElementById('topMoversBody');
    const html = stockData.top_movers.map(stock => `
        <tr class="stock-row" data-stock='${JSON.stringify(stock)}'>
            <td>
                <div class="stock-name">${stock.name}</div>
            </td>
            <td>
                <div class="stock-code">${stock.code}</div>
            </td>
            <td>
                <div class="stock-price">${stock.price}</div>
            </td>
            <td>
                <div class="stock-change ${getChangeClass(stock.change)}">${stock.change}</div>
            </td>
        </tr>
    `).join('');
    tbody.innerHTML = html;
}

// í…Œë§ˆ í˜„í™© ë Œë”ë§
function renderThemes() {
    const container = document.getElementById('themesContainer');
    const html = stockData.main_themes.map(theme => `
        <div class="theme-card ${theme.direction === 'ìƒìŠ¹' ? 'theme-up' : 'theme-down'}" 
             data-tooltip="${theme.reason}">
            <div class="theme-name">${theme.name}</div>
            <div class="theme-direction ${theme.direction === 'ìƒìŠ¹' ? 'up' : 'down'}">
                ${theme.direction === 'ìƒìŠ¹' ? 'ğŸ“ˆ' : 'ğŸ“‰'} ${theme.direction}
            </div>
            <div class="theme-reason">${theme.reason}</div>
        </div>
    `).join('');
    container.innerHTML = html;
}

// ì½”ìŠ¤í”¼ ì¢…ëª© ë Œë”ë§
function renderKospiStocks() {
    const tbody = document.getElementById('kospiBody');
    const html = stockData.kospi_stocks.map(stock => `
        <tr class="stock-row" data-stock='${JSON.stringify(stock)}'>
            <td>
                <div class="stock-name">${stock.name}</div>
            </td>
            <td>
                <div class="stock-code">${stock.code}</div>
            </td>
            <td>
                <div class="stock-price">${stock.price}</div>
            </td>
            <td>
                <div class="stock-change ${getChangeClass(stock.change)}">${stock.change}</div>
            </td>
            <td>
                <div class="stock-reason">${stock.reason}</div>
            </td>
        </tr>
    `).join('');
    tbody.innerHTML = html;
}

// ì½”ìŠ¤ë‹¥ ì¢…ëª© ë Œë”ë§
function renderKosdaqStocks() {
    const tbody = document.getElementById('kosdaqBody');
    const html = stockData.kosdaq_stocks.map(stock => `
        <tr class="stock-row" data-stock='${JSON.stringify(stock)}'>
            <td>
                <div class="stock-name">${stock.name}</div>
            </td>
            <td>
                <div class="stock-code">${stock.code}</div>
            </td>
            <td>
                <div class="stock-price">${stock.price}</div>
            </td>
            <td>
                <div class="stock-change ${getChangeClass(stock.change)}">${stock.change}</div>
            </td>
            <td>
                <div class="stock-reason">${stock.reason}</div>
            </td>
        </tr>
    `).join('');
    tbody.innerHTML = html;
}

// ë“±ë½ë¥ ì— ë”°ë¥¸ CSS í´ë˜ìŠ¤ ë°˜í™˜ (í•œêµ­ì‹ ìƒ‰ìƒ)
function getChangeClass(change) {
    const cleanChange = change.replace(/[+%]/g, '');
    return parseFloat(cleanChange) >= 0 ? 'change-positive' : 'change-negative';
}

// ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
function setupEventListeners() {
    // ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼
    const refreshBtn = document.getElementById('refreshBtn');
    refreshBtn.addEventListener('click', handleRefresh);
    
    // ëª¨ë‹¬ ë‹«ê¸°
    const modalClose = document.getElementById('modalClose');
    modalClose.addEventListener('click', closeModal);
    modalOverlay.addEventListener('click', function(e) {
        if (e.target === modalOverlay) {
            closeModal();
        }
    });
    
    // ESC í‚¤ë¡œ ëª¨ë‹¬ ë‹«ê¸°
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            closeModal();
        }
    });
    
    // ì¢…ëª© í–‰ í´ë¦­ ì´ë²¤íŠ¸
    document.addEventListener('click', function(e) {
        const stockRow = e.target.closest('.stock-row');
        if (stockRow) {
            const stockData = JSON.parse(stockRow.dataset.stock);
            showStockModal(stockData);
        }
    });
    
    // í…Œì´ë¸” ì •ë ¬
    document.addEventListener('click', function(e) {
        if (e.target.classList.contains('sortable')) {
            const table = e.target.closest('table');
            const sortKey = e.target.dataset.sort;
            sortTable(table, sortKey);
        }
    });
    
    // í…Œë§ˆ ì¹´ë“œ í˜¸ë²„ íˆ´íŒ
    document.addEventListener('mouseenter', function(e) {
        if (e.target.classList.contains('theme-card')) {
            const tooltipText = e.target.dataset.tooltip;
            showTooltip(e, tooltipText);
        }
    }, true);
    
    document.addEventListener('mouseleave', function(e) {
        if (e.target.classList.contains('theme-card')) {
            hideTooltip();
        }
    }, true);
}

// ìƒˆë¡œê³ ì¹¨ ì²˜ë¦¬
function handleRefresh() {
    const btn = document.getElementById('refreshBtn');
    const originalText = btn.innerHTML;
    
    // ë¡œë”© ì• ë‹ˆë©”ì´ì…˜
    btn.innerHTML = '<span style="animation: spin 1s linear infinite;">ğŸ”„</span> ìƒˆë¡œê³ ì¹¨ ì¤‘...';
    btn.disabled = true;
    
    // 2ì´ˆ í›„ ë³µì› (ì‹¤ì œë¡œëŠ” API í˜¸ì¶œ)
    setTimeout(() => {
        btn.innerHTML = originalText;
        btn.disabled = false;
        
        // í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ íš¨ê³¼
        document.body.style.opacity = '0.8';
        setTimeout(() => {
            document.body.style.opacity = '1';
        }, 200);
    }, 2000);
}

// ì¢…ëª© ìƒì„¸ ëª¨ë‹¬ í‘œì‹œ
function showStockModal(stock) {
    document.getElementById('modalStockName').textContent = stock.name;
    document.getElementById('modalStockCode').textContent = `(${stock.code})`;
    document.getElementById('modalStockPrice').textContent = stock.price;
    
    const changeElement = document.getElementById('modalStockChange');
    changeElement.textContent = stock.change;
    changeElement.className = `stock-change ${getChangeClass(stock.change)}`;
    
    document.getElementById('modalReason').textContent = stock.reason;
    
    modalOverlay.classList.add('active');
    document.body.style.overflow = 'hidden';
}

// ëª¨ë‹¬ ë‹«ê¸°
function closeModal() {
    modalOverlay.classList.remove('active');
    document.body.style.overflow = 'auto';
}

// íˆ´íŒ í‘œì‹œ
function showTooltip(event, text) {
    const tooltipContent = document.getElementById('tooltipContent');
    tooltipContent.textContent = text;
    
    tooltip.style.left = event.pageX + 'px';
    tooltip.style.top = event.pageY - tooltip.offsetHeight - 10 + 'px';
    tooltip.classList.add('active');
}

// íˆ´íŒ ìˆ¨ê¸°ê¸°
function hideTooltip() {
    tooltip.classList.remove('active');
}

// í…Œì´ë¸” ì •ë ¬
function sortTable(table, sortKey) {
    const tbody = table.querySelector('tbody');
    const rows = Array.from(tbody.querySelectorAll('tr'));
    
    // í˜„ì¬ ì •ë ¬ ë°©í–¥ í™•ì¸
    const header = table.querySelector(`th[data-sort="${sortKey}"]`);
    const isAscending = !header.classList.contains('sort-desc');
    
    // ëª¨ë“  í—¤ë”ì—ì„œ ì •ë ¬ í´ë˜ìŠ¤ ì œê±°
    table.querySelectorAll('th').forEach(th => {
        th.classList.remove('sort-asc', 'sort-desc');
    });
    
    // í˜„ì¬ í—¤ë”ì— ì •ë ¬ í´ë˜ìŠ¤ ì¶”ê°€
    header.classList.add(isAscending ? 'sort-asc' : 'sort-desc');
    
    // ì •ë ¬
    rows.sort((a, b) => {
        const aData = JSON.parse(a.dataset.stock);
        const bData = JSON.parse(b.dataset.stock);
        
        let aValue, bValue;
        
        switch(sortKey) {
            case 'name':
                aValue = aData.name;
                bValue = bData.name;
                break;
            case 'code':
                aValue = aData.code;
                bValue = bData.code;
                break;
            case 'price':
                aValue = parseFloat(aData.price.replace(/[,ì›]/g, ''));
                bValue = parseFloat(bData.price.replace(/[,ì›]/g, ''));
                break;
            case 'change':
                aValue = parseFloat(aData.change.replace(/[+%]/g, ''));
                bValue = parseFloat(bData.change.replace(/[+%]/g, ''));
                break;
            default:
                return 0;
        }
        
        if (typeof aValue === 'string') {
            return isAscending ? 
                aValue.localeCompare(bValue, 'ko') : 
                bValue.localeCompare(aValue, 'ko');
        } else {
            return isAscending ? aValue - bValue : bValue - aValue;
        }
    });
    
    // ì •ë ¬ëœ í–‰ë“¤ì„ ë‹¤ì‹œ tbodyì— ì¶”ê°€
    rows.forEach(row => tbody.appendChild(row));
}

// CSS ì• ë‹ˆë©”ì´ì…˜ì„ ìœ„í•œ ìŠ¤íƒ€ì¼ ì¶”ê°€
const style = document.createElement('style');
style.textContent = `
    @keyframes spin {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
    }
    
    .sort-asc::after {
        content: ' â†‘';
        color: #3182ce;
    }
    
    .sort-desc::after {
        content: ' â†“'; 
        color: #3182ce;
    }
`;
document.head.appendChild(style);

  </script>
</body>
</html>
