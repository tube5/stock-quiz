<!DOCTYPE html>
<html>

<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>íŠ¹ì§•ì¢…ëª©í€´ì¦ˆ 20250528</title>

  <style>
    * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 10px;
}

.app {
    width: 100%;
    max-width: 400px;
    aspect-ratio: 9/16;
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    border-radius: 25px;
    padding: 25px 20px;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
    display: flex;
    flex-direction: column;
    position: relative;
    overflow: hidden;
}

.quiz-container {
    display: flex;
    flex-direction: column;
    height: 100%;
}

.header {
    text-align: center;
    margin-bottom: 20px;
    position: relative;
}

.score-badge {
    position: absolute;
    top: 0;
    right: 0;
    background: #4facfe;
    color: white;
    padding: 8px 15px;
    border-radius: 20px;
    font-size: 14px;
    font-weight: 600;
}

.header h1 {
    color: white;
    font-size: 22px;
    font-weight: bold;
    margin-top: 25px;
    text-shadow: 0 2px 4px rgba(0,0,0,0.3);
}

.progress-container {
    margin-bottom: 25px;
}

.progress-bar {
    width: 100%;
    height: 6px;
    background: rgba(255, 255, 255, 0.3);
    border-radius: 10px;
    overflow: hidden;
    margin-bottom: 10px;
}

.progress {
    height: 100%;
    background: linear-gradient(90deg, #4facfe, #00f2fe);
    border-radius: 10px;
    transition: width 0.3s ease;
    width: 0%;
}

.question-info {
    text-align: center;
    color: white;
    font-size: 14px;
    font-weight: 600;
    text-shadow: 0 1px 2px rgba(0,0,0,0.3);
}

.question-container {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    margin-bottom: 30px;
}

.question-container h2 {
    color: #333;
    font-size: 18px;
    line-height: 1.4;
    padding: 25px 20px;
    background: rgba(255, 255, 255, 0.95);
    border-radius: 15px;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    font-weight: 600;
    width: 100%;
}

.answers-container {
    display: flex;
    flex-direction: column;
    gap: 12px;
    margin-bottom: 30px;
}

.answer-btn {
    background: white;
    color: #333;
    border: 2px solid #e0e0e0;
    border-radius: 15px;
    padding: 18px 15px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    text-align: center;
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
}

.answer-btn:hover {
    background: #f5f5f5;
    border-color: #4facfe;
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(79, 172, 254, 0.3);
}

.answer-btn:active {
    transform: translateY(0);
}

.answer-btn.correct {
    background: linear-gradient(135deg, #28a745, #20c997);
    color: white;
    border-color: #28a745;
    animation: correctPulse 0.6s ease;
}

.answer-btn.wrong {
    background: linear-gradient(135deg, #dc3545, #fd7e14);
    color: white;
    border-color: #dc3545;
    animation: wrongShake 0.6s ease;
}

.answer-btn.disabled {
    pointer-events: none;
    opacity: 0.6;
}

@keyframes correctPulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
}

@keyframes wrongShake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    75% { transform: translateX(5px); }
}

.result-screen {
    text-align: center;
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}

.result-screen h2 {
    color: white;
    font-size: 28px;
    margin-bottom: 20px;
    text-shadow: 0 2px 4px rgba(0,0,0,0.3);
}

.final-score {
    font-size: 48px;
    font-weight: bold;
    color: white;
    margin-bottom: 20px;
    text-shadow: 0 2px 4px rgba(0,0,0,0.3);
}

.restart-btn {
    background: linear-gradient(135deg, #4facfe, #00f2fe);
    color: white;
    border: none;
    border-radius: 25px;
    padding: 15px 30px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    margin-top: 20px;
}

.restart-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(79, 172, 254, 0.4);
}

.modal {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.6);
    animation: fadeIn 0.3s ease;
}

.modal-content {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: white;
    padding: 40px 30px;
    border-radius: 20px;
    width: 90%;
    max-width: 350px;
    text-align: center;
    animation: slideIn 0.3s ease;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
}

.modal-content h3 {
    font-size: 22px;
    margin-bottom: 15px;
    font-weight: bold;
}

.modal-content p {
    color: #666;
    line-height: 1.6;
    margin-bottom: 25px;
    font-size: 16px;
}

.modal-btn {
    background: linear-gradient(135deg, #4facfe, #00f2fe);
    color: white;
    border: none;
    border-radius: 25px;
    padding: 15px 25px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    width: 100%;
}

.modal-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(79, 172, 254, 0.4);
}

.celebration {
    position: fixed;
    pointer-events: none;
    font-size: 50px;
    opacity: 0;
    z-index: 2000;
}

@keyframes celebrate {
    0% { transform: translateY(0) scale(0); opacity: 1; }
    50% { transform: translateY(-100px) scale(1.5); opacity: 1; }
    100% { transform: translateY(-200px) scale(2); opacity: 0; }
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes slideIn {
    from { 
        transform: translate(-50%, -60%); 
        opacity: 0; 
    }
    to { 
        transform: translate(-50%, -50%); 
        opacity: 1; 
    }
}

@media (max-width: 480px) {
    .app {
        max-width: 100%;
        margin: 0;
        border-radius: 0;
        aspect-ratio: auto;
        min-height: 100vh;
    }
    
    .header h1 {
        font-size: 20px;
    }
    
    .question-container h2 {
        font-size: 16px;
        padding: 20px 15px;
    }
    
    .answer-btn {
        font-size: 14px;
        padding: 16px 12px;
        height: 55px;
    }
    
    .modal-content {
        width: 95%;
        padding: 30px 20px;
    }
}

  </style>

  
</head>
<body>
  <div class="app">
    <div class="quiz-container">
        <div class="header">
            <div class="score-badge">ì ìˆ˜: <span id="score">0</span></div>
            <h1 id="quizTitle">íŠ¹ì§•ì£¼ í€´ì¦ˆ</h1>
        </div>
        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress" id="progress"></div>
            </div>
            <div class="question-info">
                <span id="currentQuestion">1</span> / <span id="totalQuestions">10</span>
            </div>
        </div>
        <div class="question-container">
            <h2 id="question">ë¬¸ì œ ë¡œë”© ì¤‘...</h2>
        </div>
        <div class="answers-container">
            <button class="answer-btn" data-index="0">ì„ íƒì§€ 1</button>
            <button class="answer-btn" data-index="1">ì„ íƒì§€ 2</button>
            <button class="answer-btn" data-index="2">ì„ íƒì§€ 3</button>
            <button class="answer-btn" data-index="3">ì„ íƒì§€ 4</button>
        </div>
    </div>
    <div class="result-screen" id="resultScreen" style="display: none;">
        <h2>í€´ì¦ˆ ì™„ë£Œ!</h2>
        <div class="final-score">
            <span id="finalScore"></span> / 100ì 
        </div>
        <p id="resultMessage"></p>
        <button class="restart-btn" id="restartBtn">ë‹¤ì‹œ ì‹œì‘</button>
    </div>
</div>

<div id="resultModal" class="modal">
    <div class="modal-content">
        <h3 id="modalTitle">ì •ë‹µì…ë‹ˆë‹¤!</h3>
        <p id="modalMessage">ì„¤ëª…ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤</p>
        <button class="modal-btn" id="nextBtn">ë‹¤ìŒ ë¬¸ì œ</button>
    </div>
</div>

<div id="celebration" class="celebration">ğŸ‰</div>

<!-- ë¸Œë¼ìš°ì € í˜¸í™˜ ì‚¬ìš´ë“œ ì‹œìŠ¤í…œ -->
<div id="soundSystem" style="display: none;">
    <iframe id="soundFrame" src="about:blank" style="width:1px;height:1px;"></iframe>
</div>


  <script>
    // íŠ¹ì§•ì£¼ ë¬¸ì œ ë°ì´í„°
const quizData = [
    {
        question: "ë¸”ë¡ì²´ì¸ ê¸°ë°˜ ì›í™” ìŠ¤í…Œì´ë¸” ì½”ì¸ ì‚¬ì—… ì§„ì¶œë¡œ ì£¼ëª©ë°›ëŠ” ì¢…ëª©ì€?",
        answers: ["SK", "ì¸ìŠ¤ì½”ë¹„", "LGì´ë…¸í…", "NAVER"],
        correct: "ì¸ìŠ¤ì½”ë¹„",
        explanation: "ì›í™” ìŠ¤í…Œì´ë¸”ì½”ì¸ ì‚¬ì—…",
        category: "ë¸”ë¡ì²´ì¸"
    },
    {
        question: "ì„¸ê³„ ìµœì´ˆ 5G ê´‘ëŒ€ì—­ ìœ„ì„±í†µì‹  ì§€ì› ì°¨ëŸ‰ìš© í†µì‹ ëª¨ë“ˆ ê°œë°œ ì¢…ëª©ì€?",
        answers: ["ì‚¼ì˜", "KCC", "LGì´ë…¸í…", "ì§„ì—ì–´"],
        correct: "LGì´ë…¸í…",
        explanation: "ì°¨ëŸ‰ìš© 5G ëª¨ë“ˆ ê°œë°œ",
        category: "ì°¨ëŸ‰ë¶€í’ˆ"
    },
    {
        question: "ASCO 2025ì—ì„œ AI ê¸°ë°˜ ì•” ì¡°ê¸° ì§„ë‹¨ ê¸°ìˆ  ë°œí‘œ ì˜ˆì •ì¸ ì¢…ëª©ì€?",
        answers: ["ì˜¨ì½”í¬ë¡œìŠ¤", "ì½”ì–´ë¼ì¸ì†Œí”„íŠ¸", "ë¹„íAI", "í¬ë¼ìš°ë“œì›ìŠ¤"],
        correct: "ì˜¨ì½”í¬ë¡œìŠ¤",
        explanation: "AI ì•” ì¡°ê¸°ì§„ë‹¨ ê¸°ìˆ ",
        category: "ë°”ì´ì˜¤í…Œí¬"
    },
    {
        question: "í´ë”ë¸”í° íŒì§€ ëª¨ë“ˆë¡œ ìµœê³  ë§¤ì¶œ ê²½ì‹  ê¸°ëŒ€ë¥¼ ë°›ëŠ” ì¢…ëª©ì€?",
        answers: ["ì‹¬í…", "KHë°”í…", "íŒŒì›Œë„·", "ì œì´ì˜¤"],
        correct: "KHë°”í…",
        explanation: "í´ë”ë¸”í° íŒì§€ ì „ë¬¸",
        category: "ìŠ¤ë§ˆíŠ¸í°ë¶€í’ˆ"
    },
    {
        question: "ì¼ë³¸ ì‹œë‹ˆì–´ ì „ë¬¸ê¸°ì—…ê³¼ í—¬ìŠ¤ì¼€ì–´ ì‚¬ì—… íŒŒíŠ¸ë„ˆì‹­ì„ ì²´ê²°í•œ ê·¸ë£¹ì€?",
        answers: ["SKê·¸ë£¹", "KCCê·¸ë£¹", "HLBê·¸ë£¹", "ì—˜ë¸Œì´ì— ì”¨ê·¸ë£¹"],
        correct: "HLBê·¸ë£¹",
        explanation: "ì¼ë³¸ ì‹œë‹ˆì–´ í—¬ìŠ¤ì¼€ì–´",
        category: "í—¬ìŠ¤ì¼€ì–´"
    },
    {
        question: "ë¯¸êµ­ í˜„ì§€ ë²•ì¸ ì„¤ë¦½ìœ¼ë¡œ íƒ„ì†Œë‚˜ë…¸íŠœë¸Œ ì‚¬ì—… í™•ì¥í•˜ëŠ” ì¢…ëª©ì€?",
        answers: ["ì œì´ì˜¤", "íŒŒì›Œë„·", "ì•„ì´ì”¨í‹°ì¼€ì´", "ìŠ¤ì½”ë„¥"],
        correct: "ì œì´ì˜¤",
        explanation: "ë¯¸êµ­ ì§„ì¶œ íƒ„ì†Œë‚˜ë…¸íŠœë¸Œ",
        category: "ì‹ ì†Œì¬"
    },
    {
        question: "AI êµìœ¡ ì„œë¹„ìŠ¤ë¡œ 2ë…„ ì—°ì† êµ­ë¹„ì§€ì› ì‚¬ì—…ì ì„ ì •ëœ ì¢…ëª©ì€?",
        answers: ["ë¹„íAI", "í¬ë¼ìš°ë“œì›ìŠ¤", "MDSí…Œí¬", "ì˜¨ì½”í¬ë¡œìŠ¤"],
        correct: "í¬ë¼ìš°ë“œì›ìŠ¤",
        explanation: "AI êµìœ¡ì„œë¹„ìŠ¤ ì „ë¬¸",
        category: "êµìœ¡í…Œí¬"
    },
    {
        question: "ë² ë§ê±°ì¸ê²”í•˜ì„ì— AI í ì˜ìƒë¶„ì„ ì†Œí”„íŠ¸ì›¨ì–´ ê³µê¸‰í•˜ëŠ” ì¢…ëª©ì€?",
        answers: ["ì½”ì–´ë¼ì¸ì†Œí”„íŠ¸", "ì˜¨ì½”í¬ë¡œìŠ¤", "ì†Œë£©ìŠ¤", "ì¼€ì´ì— ì œì•½"],
        correct: "ì½”ì–´ë¼ì¸ì†Œí”„íŠ¸",
        explanation: "AI íì˜ìƒ ë¶„ì„ì „ë¬¸",
        category: "ë©”ë””í…Œí¬"
    },
    {
        question: "ë¼ì˜¤ìŠ¤Â·ë² íŠ¸ë‚¨ ì‚¬ì—… í˜¸ì¡°ë¡œ 1ë¶„ê¸° ë§¤ì¶œ 42% ì¦ê°€í•œ ì¢…ëª©ì€?",
        answers: ["ìì´ì—ìŠ¤ì•¤ë””", "ì—˜ë¸Œì´ì— ì”¨í™€ë”©ìŠ¤", "ì§„ì—ì–´", "ë‹¤ë³´ë§í¬"],
        correct: "ì—˜ë¸Œì´ì— ì”¨í™€ë”©ìŠ¤",
        explanation: "ë™ë‚¨ì•„ ì‚¬ì—… í™•ì¥",
        category: "í•´ì™¸ì‚¬ì—…"
    },
    {
        question: "ì–‘ì ê¸°ìˆ  ê¸°ë°˜ ì½œë“œì›”ë › ë³´ì•ˆ ì†”ë£¨ì…˜ ê°œë°œí•˜ëŠ” ì¢…ëª©ì€?",
        answers: ["ì•„ì´ì”¨í‹°ì¼€ì´", "ìŠ¤ì½”ë„¥", "ì¸ìŠ¤ì½”ë¹„", "ë¹„íAI"],
        correct: "ì•„ì´ì”¨í‹°ì¼€ì´",
        explanation: "ì–‘ì ì½œë“œì›”ë › ë³´ì•ˆ",
        category: "ë³´ì•ˆê¸°ìˆ "
    },
    {
        question: "BOPP í•„ë¦„ì—ì„œ ì»¤íŒ¨ì‹œí„° í•„ë¦„ìœ¼ë¡œ ì‚¬ì—… ì „í™˜ ì¤‘ì¸ ì¢…ëª©ì€?",
        answers: ["KCC", "ì‚¼ì˜", "ì‹¬í…", "íŒŒì›Œë„·"],
        correct: "ì‚¼ì˜",
        explanation: "ì»¤íŒ¨ì‹œí„° í•„ë¦„ ì „í™˜",
        category: "í™”í•™ì†Œì¬"
    },
    {
        question: "NBë¸Œëœë“œ 'í¼ê¸€'ë¡œ ë¯¸êµ­ FDA OTC ë“±ë¡ ì™„ë£Œí•œ ì¢…ëª©ì€?",
        answers: ["ì†Œë£©ìŠ¤", "ì¼€ì´ì— ì œì•½", "ì½”ì–´ë¼ì¸ì†Œí”„íŠ¸", "ì˜¨ì½”í¬ë¡œìŠ¤"],
        correct: "ì¼€ì´ì— ì œì•½",
        explanation: "í¼ê¸€ ë¯¸êµ­ ì§„ì¶œ",
        category: "êµ¬ê°•ì¼€ì–´"
    },
    {
        question: "í“¨ë¦¬ì˜¤ì‚¬AI íˆ¬ìí€ë“œì— ì°¸ì—¬í•œ AI ë°˜ë„ì²´ ê´€ë ¨ ì¢…ëª©ì€?",
        answers: ["ë¹„íAI", "í¬ë¼ìš°ë“œì›ìŠ¤", "ì œì´ì˜¤", "íŒŒì›Œë„·"],
        correct: "ë¹„íAI",
        explanation: "AI ë°˜ë„ì²´ íˆ¬ì",
        category: "AIë°˜ë„ì²´"
    },
    {
        question: "ì—ì–´ë¶€ì‚°Â·ì—ì–´ì„œìš¸ê³¼ì˜ í†µí•©ì„ ì¤€ë¹„ ì¤‘ì¸ LCC ì¢…ëª©ì€?",
        answers: ["ì§„ì—ì–´", "ìì´ì—ìŠ¤ì•¤ë””", "ì—˜ë¸Œì´ì— ì”¨í™€ë”©ìŠ¤", "ë‹¤ë³´ë§í¬"],
        correct: "ì§„ì—ì–´",
        explanation: "LCC í†µí•© ì¶”ì§„",
        category: "í•­ê³µìš´ì†¡"
    },
    {
        question: "ê²½ì˜ê¶Œ ë§¤ê° ë‚œí•­ìœ¼ë¡œ ìƒì¥íì§€ ìœ„ê¸°ì— ë†“ì¸ ì¢…ëª©ì€?",
        answers: ["ìŠ¤ì½”ë„¥", "ë‹¤ë³´ë§í¬", "ë¹›ê³¼ì „ì", "ì†Œë£©ìŠ¤"],
        correct: "ë‹¤ë³´ë§í¬",
        explanation: "ê²½ì˜ê¶Œ ë§¤ê° ë‚œí•­",
        category: "êµ¬ì¡°ì¡°ì •"
    }
];

// ì „ì—­ ë³€ìˆ˜
let currentQuestionIndex = 0;
let score = 0;
let totalQuestions = 10;
let selectedQuestions = [];
let currentQuestion = null;
let audioEnabled = false;

// ë¸Œë¼ìš°ì € í˜¸í™˜ ì‚¬ìš´ë“œ ì‹œìŠ¤í…œ
const SoundSystem = {
    context: null,
    
    // ì˜¤ë””ì˜¤ ì»¨í…ìŠ¤íŠ¸ ì´ˆê¸°í™”
    init: function() {
        try {
            this.context = new (window.AudioContext || window.webkitAudioContext)();
            audioEnabled = true;
            console.log('ğŸ”Š ì‚¬ìš´ë“œ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ');
        } catch (e) {
            console.log('âš ï¸ ì‚¬ìš´ë“œ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì‹¤íŒ¨:', e);
            audioEnabled = false;
        }
    },
    
    // beep ì‚¬ìš´ë“œ ìƒì„± ë° ì¬ìƒ
    beep: function(frequency = 800, duration = 200, type = 'sine') {
        if (!audioEnabled || !this.context) return;
        
        try {
            const oscillator = this.context.createOscillator();
            const gainNode = this.context.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(this.context.destination);
            
            oscillator.frequency.value = frequency;
            oscillator.type = type;
            
            gainNode.gain.setValueAtTime(0.1, this.context.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, this.context.currentTime + duration / 1000);
            
            oscillator.start(this.context.currentTime);
            oscillator.stop(this.context.currentTime + duration / 1000);
            
            console.log(`ğŸµ ${frequency}Hz beep ì¬ìƒ`);
        } catch (e) {
            console.log('ì‚¬ìš´ë“œ ì¬ìƒ ì‹¤íŒ¨:', e);
        }
    },
    
    // ë©œë¡œë”” ì¬ìƒ
    melody: function(notes, noteDuration = 150) {
        if (!audioEnabled) return;
        
        notes.forEach((freq, index) => {
            setTimeout(() => {
                this.beep(freq, noteDuration);
            }, index * noteDuration);
        });
    }
};

// ì‚¬ìš´ë“œ ì¬ìƒ í•¨ìˆ˜ë“¤
function playCorrectSound() {
    if (audioEnabled) {
        // ì„±ê³µ ë©œë¡œë”” (ë„-ë¯¸-ì†”)
        SoundSystem.melody([523, 659, 784], 200);
        console.log('âœ… ì •ë‹µ ì‚¬ìš´ë“œ ì¬ìƒ');
    }
}

function playWrongSound() {
    if (audioEnabled) {
        // ì‹¤íŒ¨ ì‚¬ìš´ë“œ (ë‚®ì€ ìŒ)
        SoundSystem.beep(200, 400, 'sawtooth');
        console.log('âŒ ì˜¤ë‹µ ì‚¬ìš´ë“œ ì¬ìƒ');
    }
}

function playCompleteSound() {
    if (audioEnabled) {
        // ì™„ë£Œ íŒ¡íŒŒë¥´
        SoundSystem.melody([523, 659, 784, 1047], 300);
        console.log('ğŸ‰ ì™„ë£Œ ì‚¬ìš´ë“œ ì¬ìƒ');
    }
}

// í­ì£½ íš¨ê³¼
function showCelebration() {
    const celebration = document.getElementById('celebration');
    celebration.style.left = Math.random() * 80 + '%';
    celebration.style.top = Math.random() * 50 + 30 + '%';
    celebration.style.animation = 'celebrate 1.5s ease-out';
    celebration.style.opacity = '1';
    
    setTimeout(() => {
        celebration.style.opacity = '0';
    }, 1500);
}

// ë°°ì—´ ì…”í”Œ
function shuffleArray(array) {
    const newArray = [...array];
    for (let i = newArray.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
    }
    return newArray;
}

// 15ê°œ ë¬¸ì œ ì¤‘ 10ê°œ ëœë¤ ì„ íƒ
function selectUniqueQuestions() {
    const indices = Array.from({length: quizData.length}, (_, i) => i);
    const shuffledIndices = shuffleArray(indices);
    const selectedIndices = shuffledIndices.slice(0, totalQuestions);
    
    selectedQuestions = selectedIndices.map(index => ({
        ...quizData[index],
        originalIndex: index
    }));
}

// ë¬¸ì œ í‘œì‹œ
function displayQuestion() {
    currentQuestion = selectedQuestions[currentQuestionIndex];
    
    // ë³´ê¸° ìˆœì„œ ëœë¤ìœ¼ë¡œ ì„ê¸°
    const shuffledAnswers = shuffleArray([...currentQuestion.answers]);
    currentQuestion.shuffledAnswers = shuffledAnswers;
    currentQuestion.correctIndex = shuffledAnswers.findIndex(answer => answer === currentQuestion.correct);
    
    document.getElementById('question').textContent = currentQuestion.question;
    document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
    document.getElementById('totalQuestions').textContent = totalQuestions;
    
    const answerButtons = document.querySelectorAll('.answer-btn');
    answerButtons.forEach((btn, index) => {
        btn.textContent = shuffledAnswers[index];
        btn.className = 'answer-btn';
        btn.disabled = false;
    });
    
    const progress = ((currentQuestionIndex) / totalQuestions) * 100;
    document.getElementById('progress').style.width = progress + '%';
}

// ë‹µì•ˆ ì„ íƒ í•¨ìˆ˜
function selectAnswer(answerIndex) {
    // ì‚¬ìš´ë“œ ì‹œìŠ¤í…œ í™œì„±í™” (ì‚¬ìš©ì ìƒí˜¸ì‘ìš© í›„)
    if (!audioEnabled) {
        SoundSystem.init();
    }
    
    const answerButtons = document.querySelectorAll('.answer-btn');
    answerButtons.forEach(btn => {
        btn.classList.add('disabled');
        btn.disabled = true;
    });
    
    let isCorrect = answerIndex === currentQuestion.correctIndex;
    let modalTitle, modalMessage;
    
    if (isCorrect) {
        answerButtons[answerIndex].classList.add('correct');
        score += 10;
        document.getElementById('score').textContent = score;
        
        modalTitle = 'ì •ë‹µì…ë‹ˆë‹¤!';
        modalMessage = `${currentQuestion.explanation}<br>${currentQuestion.category} ê´€ë ¨ì£¼ëŠ” ${currentQuestion.correct}ì…ë‹ˆë‹¤`;
        playCorrectSound();
        showCelebration();
    } else {
        answerButtons[answerIndex].classList.add('wrong');
        answerButtons[currentQuestion.correctIndex].classList.add('correct');
        
        modalTitle = 'ì˜¤ë‹µì…ë‹ˆë‹¤.';
        modalMessage = `${currentQuestion.explanation}<br>${currentQuestion.category} ê´€ë ¨ì£¼ëŠ” ${currentQuestion.correct}ì…ë‹ˆë‹¤`;
        playWrongSound();
    }
    
    setTimeout(() => {
        showModal(modalTitle, modalMessage, isCorrect);
    }, 500);
}

// ëª¨ë‹¬ í‘œì‹œ
function showModal(title, message, isCorrect) {
    const modal = document.getElementById('resultModal');
    const modalTitle = document.getElementById('modalTitle');
    const modalMessage = document.getElementById('modalMessage');
    
    modalTitle.textContent = title;
    modalTitle.style.color = isCorrect ? '#28a745' : '#dc3545';
    modalMessage.innerHTML = message;
    
    modal.style.display = 'block';
}

// ëª¨ë‹¬ ë‹«ê¸° ë° ë‹¤ìŒ ë¬¸ì œ
function closeModalAndNext() {
    document.getElementById('resultModal').style.display = 'none';
    
    setTimeout(() => {
        currentQuestionIndex++;
        
        if (currentQuestionIndex < totalQuestions) {
            displayQuestion();
        } else {
            showResult();
        }
    }, 300);
}

// ê²°ê³¼ í™”ë©´
function showResult() {
    document.querySelector('.quiz-container').style.display = 'none';
    document.getElementById('resultScreen').style.display = 'flex';
    
    const percentage = (score / 100) * 100;
    document.getElementById('finalScore').textContent = score;
    
    let resultMessage;
    if (percentage >= 80) {
        resultMessage = 'í›Œë¥­í•©ë‹ˆë‹¤! íŠ¹ì§•ì£¼ ì „ë¬¸ê°€êµ°ìš”! ğŸ‰';
    } else if (percentage >= 60) {
        resultMessage = 'ì¢‹ìŠµë‹ˆë‹¤! ì‹œì¥ ê°ê°ì´ ë›°ì–´ë‚˜ë„¤ìš”! ğŸ“ˆ';
    } else if (percentage >= 40) {
        resultMessage = 'ê´œì°®ìŠµë‹ˆë‹¤! ì¡°ê¸ˆ ë” ê³µë¶€í•´ë³´ì„¸ìš”! ğŸ“š';
    } else {
        resultMessage = 'ì•„ì§ ê³µë¶€ê°€ ë” í•„ìš”í•´ìš”! í™”ì´íŒ…! ğŸ’ª';
    }
    
    document.getElementById('resultMessage').textContent = resultMessage;
    playCompleteSound();
}

// í€´ì¦ˆ ì¬ì‹œì‘
function restartQuiz() {
    currentQuestionIndex = 0;
    score = 0;
    
    document.getElementById('score').textContent = score;
    document.querySelector('.quiz-container').style.display = 'flex';
    document.getElementById('resultScreen').style.display = 'none';
    
    selectUniqueQuestions();
    displayQuestion();
}

// ì´ˆê¸°í™”
function initQuiz() {
    selectUniqueQuestions();
    displayQuestion();
}

// DOM ë¡œë“œ í›„ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
document.addEventListener('DOMContentLoaded', function() {
    console.log('ğŸš€ í€´ì¦ˆ ì´ˆê¸°í™” ì‹œì‘');
    
    // ë‹µì•ˆ ë²„íŠ¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
    const answerButtons = document.querySelectorAll('.answer-btn');
    answerButtons.forEach((btn, index) => {
        btn.addEventListener('click', function() {
            selectAnswer(index);
        });
    });
    
    // ë‹¤ìŒ ë¬¸ì œ ë²„íŠ¼
    document.getElementById('nextBtn').addEventListener('click', closeModalAndNext);
    
    // ì¬ì‹œì‘ ë²„íŠ¼
    document.getElementById('restartBtn').addEventListener('click', restartQuiz);
    
    // ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­
    document.getElementById('resultModal').addEventListener('click', function(e) {
        if (e.target === this) {
            closeModalAndNext();
        }
    });
    
    // í€´ì¦ˆ ì‹œì‘
    initQuiz();
});

// ì „ì—­ í•¨ìˆ˜ ë…¸ì¶œ
window.selectAnswer = selectAnswer;
window.closeModalAndNext = closeModalAndNext;
window.restartQuiz = restartQuiz;

  </script>
</body>
</html>
